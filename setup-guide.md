#!/bin/bash
# Complete setup script for EcoFi development with fresh MetaMask

echo "üöÄ EcoFi Development Setup with Fresh MetaMask"
echo "=============================================="

echo ""
echo "ü¶ä MetaMask Fresh Setup (After Reinstalling):"
echo "1. Install MetaMask extension in Chrome"
echo "2. Create new wallet OR restore existing wallet"
echo "3. IMPORTANT: Add Hardhat Local Network FIRST"
echo ""
echo "üì∂ Add Hardhat Network to MetaMask:"
echo "- Click MetaMask extension"
echo "- Click network dropdown (usually shows 'Ethereum Mainnet')"
echo "- Click 'Add Network' or 'Custom RPC'"
echo "- Enter these details:"
echo "  * Network Name: Hardhat Local"
echo "  * New RPC URL: http://127.0.0.1:8545"
echo "  * Chain ID: 31337"
echo "  * Currency Symbol: ETH"
echo "  * Block Explorer URL: (leave empty)"
echo "- Click 'Save'"
echo ""
echo "üîë Import Test Account to MetaMask:"
echo "- Click account circle (top right)"
echo "- Click 'Import Account'"
echo "- Select 'Private Key'"
echo "- Paste this private key:"
echo "  0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80"
echo "- Click 'Import'"
echo "- This account will have 10,000 ETH for testing"
echo ""
echo "üèóÔ∏è Blockchain Setup:"
echo "Step 1: Start Hardhat Node (in Terminal 1)"
echo "cd D:\\Projects\\EcoFi\\EcoFi_Citi_Blockchain\\src\\Backend"
echo "npx hardhat node --port 8545"
echo ""
echo "Step 2: Deploy Contracts (in Terminal 2)"
echo "cd D:\\Projects\\EcoFi\\EcoFi_Citi_Blockchain\\src\\Backend"
echo "npx hardhat run --network localhost scripts/deployCombined.js"
echo ""
echo "Step 3: Start React App (in Terminal 3)"
echo "cd D:\\Projects\\EcoFi\\EcoFi_Citi_Blockchain"
echo "npm start"
echo ""
echo "‚úÖ Verification Steps:"
echo "1. Check MetaMask shows 'Hardhat Local' network"
echo "2. Check account balance shows ~10,000 ETH"
echo "3. React app should load without 'value=0x' errors"
echo "4. Browser console should show correct contract addresses"
echo ""
echo "üîß If still having issues:"
echo "- Clear browser cache (Ctrl+Shift+Delete)"
echo "- Hard refresh React app (Ctrl+Shift+R)"
echo "- Check all terminals are running correctly"